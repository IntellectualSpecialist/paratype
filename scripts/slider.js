var v=window.matchMedia("(max-width:920px)");var D=50,_=document.querySelectorAll(".slider"),$=t=>{let s=0,f=0,g=0,l=!1,o=t.querySelector(".slider__wrapper"),m=t.querySelector(".slider__pagination"),h=o.querySelectorAll(".slider__slide"),u=h.length,d=e=>{e.type==="touchstart"&&!e.target.closest(".slider__pagination-button")&&e.preventDefault(),l=!0,f=e.type.includes("mouse")?e.pageX:e.touches[0].pageX,o.style.transition="none"},p=e=>{if(!l)return;g=e.type.includes("mouse")?e.pageX:e.touches[0].pageX;let n=g-f;s===0&&n>0?o.style.transform=`translateX(${n*.3}px)`:s===u-1&&n<0?o.style.transform=`translateX(calc(${-s*100}% + ${n*.3}px))`:o.style.transform=`translateX(calc(${-s*100}% + ${n}px))`},i=e=>{e<0?e=0:e>=u&&(e=u-1),s=e,o.style.transform=`translateX(-${s*100}%)`,m.querySelectorAll(".slider__pagination-button").forEach((n,a)=>{n.classList.toggle("slider__pagination-button--active",a===s)})},r=e=>{if(!l)return;l=!1,o.style.transition="transform 0.3s ease";let a=(e.type.includes("mouse")?e.pageX:e.changedTouches[0].pageX)-f;Math.abs(a)>D?a>0&&s>0?i(s-1):a<0&&s<u-1?i(s+1):i(s):i(s)};m.innerHTML="",h.forEach((e,n)=>{let a=document.createElement("li");a.classList.add("slider__pagination-item");let c=document.createElement("button");c.classList.add("slider__pagination-button"),c.setAttribute("type","button"),a.appendChild(c),n===0&&c.classList.add("slider__pagination-button--active"),c.addEventListener("click",A=>{A.preventDefault(),i(n)}),m.appendChild(a)});let y=e=>{r(e)},S=e=>{d(e)},T=e=>{p(e)},X=e=>{r(e)},b=()=>{o.style.transform="translateX(0%)",t.addEventListener("mousedown",d),t.addEventListener("mousemove",p),t.addEventListener("mouseup",r),t.addEventListener("mouseleave",y),t.addEventListener("touchstart",S,{passive:!1}),t.addEventListener("touchmove",T,{passive:!1}),t.addEventListener("touchend",X)},E=()=>{o.removeAttribute("style"),t.removeEventListener("mousedown",d),t.removeEventListener("mousemove",p),t.removeEventListener("mouseup",r),t.removeEventListener("mouseleave",r),t.removeEventListener("touchstart",d,{passive:!1}),t.removeEventListener("touchmove",p,{passive:!1}),t.removeEventListener("touchend",r)},L=()=>{v.matches?b():E()};v.addEventListener("change",L),L()},q=()=>{_.length&&_.forEach(t=>{$(t)})};export{q as initSliders};
