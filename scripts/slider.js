var v=window.matchMedia("(max-width:920px)");var D=50,X=document.querySelectorAll(".slider"),$=t=>{let s=0,d=0,g=0,c=!1,o=t.querySelector(".slider__wrapper"),p=t.querySelector(".slider__pagination"),h=o.querySelectorAll(".slider__slide"),l=h.length,f=e=>{e.type==="touchstart"&&!e.target.closest(".slider__pagination-button")&&e.preventDefault(),c=!0,d=e.type.includes("mouse")?e.pageX:e.touches[0].pageX,o.style.transition="none"},m=e=>{if(!c)return;g=e.type.includes("mouse")?e.pageX:e.touches[0].pageX;let n=g-d;s===0&&n>0?o.style.transform=`translateX(${n*.3}px)`:s===l-1&&n<0?o.style.transform=`translateX(calc(${-s*100}% + ${n*.3}px))`:o.style.transform=`translateX(calc(${-s*100}% + ${n}px))`},r=e=>{e<0?e=0:e>=l&&(e=l-1),s=e,o.style.transform=`translateX(-${s*100}%)`,p.querySelectorAll(".slider__pagination-button").forEach((n,a)=>{n.classList.toggle("slider__pagination-button--active",a===s)})},u=e=>{if(!c)return;c=!1,o.style.transition="transform 0.3s ease";let a=(e.type.includes("mouse")?e.pageX:e.changedTouches[0].pageX)-d;Math.abs(a)>D?a>0&&s>0?r(s-1):a<0&&s<l-1?r(s+1):r(s):r(s)};p.innerHTML="",h.forEach((e,n)=>{let a=document.createElement("li");a.classList.add("slider__pagination-item");let i=document.createElement("button");i.classList.add("slider__pagination-button"),i.setAttribute("type","button"),a.appendChild(i),n===0&&i.classList.add("slider__pagination-button--active"),i.addEventListener("click",A=>{A.preventDefault(),r(n)}),p.appendChild(a)});let L=e=>{u(e)},_=e=>{f(e)},y=e=>{m(e)},S=e=>{u(e)},b=()=>{o.style.transform="translateX(0%)",t.addEventListener("mousedown",f),t.addEventListener("mousemove",m),t.addEventListener("mouseup",u),t.addEventListener("mouseleave",L),t.addEventListener("touchstart",_,{passive:!1}),t.addEventListener("touchmove",y,{passive:!1}),t.addEventListener("touchend",S)},E=()=>{o.removeAttribute("style"),t.removeEventListener("mousedown",f),t.removeEventListener("mousemove",m),t.removeEventListener("mouseup",u),t.removeEventListener("mouseleave",L),t.removeEventListener("touchstart",_,{passive:!1}),t.removeEventListener("touchmove",y,{passive:!1}),t.removeEventListener("touchend",S)},T=()=>{v.matches?b():E()};v.addEventListener("change",T),T()},q=()=>{X.length&&X.forEach(t=>{$(t)})};export{q as initSliders};
