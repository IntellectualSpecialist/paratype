var i=window.matchMedia("(max-width:920px)");var me=document.querySelector(".header__wrapper-top"),k=document.querySelector(".user-menu"),ue=document.querySelector(".header__wrapper-bottom"),A=()=>{i.matches?ue.append(k):me.append(k)},T=()=>{i.addEventListener("change",A),A()};var C=e=>e.key==="Escape";var x=document.querySelector("body"),L=document.querySelector(".header__menu"),g=document.querySelector(".burger"),pe=()=>{L.classList.add("header__menu--shown"),g.classList.add("burger--active"),document.addEventListener("keydown",B),x.classList.add("page__body--scroll-lock")},S=()=>{g.classList.remove("burger--active"),document.removeEventListener("keydown",B),L.classList.remove("header__menu--shown"),x.classList.remove("page__body--scroll-lock")},fe=e=>{e.preventDefault(),L.classList.contains("header__menu--shown")?S():pe()};function B(e){C(e)&&(e.preventDefault(),S())}var q=()=>{i.matches?g.addEventListener("click",fe):L.classList.contains("header__menu--shown")&&S()},M=()=>{g&&(i.addEventListener("change",q),q())};var b=document.querySelector(".theme-switcher"),X;b&&(X=b.querySelectorAll(".theme-switcher__control"));var ve=e=>{if(e.target.closest(".theme-switcher__control")){let t=e.target.closest(".theme-switcher__control");X.forEach(s=>{s.classList.remove("theme-switcher__control--active")}),t.classList.add("theme-switcher__control--active")}},D=()=>{b&&b.addEventListener("click",ve)};var he=200,y=document.querySelector(".button-scroll"),I=()=>{window.pageYOffset>he?y.classList.add("button-scroll--shown"):y.classList.remove("button-scroll--shown")},_e=()=>{window.scrollTo(0,0)},N=()=>{i.matches?window.removeEventListener("scroll",I):window.addEventListener("scroll",I)},V=()=>{y&&(y.addEventListener("click",_e),i.addEventListener("change",N),N())};var Ee=50,F=document.querySelectorAll(".slider"),Le=e=>{let t=0,s=0,r=0,c=!1,n=e.querySelector(".slider__wrapper"),l=e.querySelector(".slider__pagination"),v=n.querySelectorAll(".slider__slide"),m=v.length,u=o=>{o.type==="touchstart"&&!o.target.closest(".slider__pagination-button")&&o.preventDefault(),c=!0,s=o.type.includes("mouse")?o.pageX:o.touches[0].pageX,n.style.transition="none"},a=o=>{if(!c)return;r=o.type.includes("mouse")?o.pageX:o.touches[0].pageX;let p=r-s;t===0&&p>0?n.style.transform=`translateX(${p*.3}px)`:t===m-1&&p<0?n.style.transform=`translateX(calc(${-t*100}% + ${p*.3}px))`:n.style.transform=`translateX(calc(${-t*100}% + ${p}px))`},d=o=>{o<0?o=0:o>=m&&(o=m-1),t=o,n.style.transform=`translateX(-${t*100}%)`,l.querySelectorAll(".slider__pagination-button").forEach((p,f)=>{p.classList.toggle("slider__pagination-button--active",f===t)})},h=o=>{if(!c)return;c=!1,n.style.transition="transform 0.3s ease";let f=(o.type.includes("mouse")?o.pageX:o.changedTouches[0].pageX)-s;Math.abs(f)>Ee?f>0&&t>0?d(t-1):f<0&&t<m-1?d(t+1):d(t):d(t)};l.innerHTML="",v.forEach((o,p)=>{let f=document.createElement("li");f.classList.add("slider__pagination-item");let _=document.createElement("button");_.classList.add("slider__pagination-button"),_.setAttribute("type","button"),f.appendChild(_),p===0&&_.classList.add("slider__pagination-button--active"),_.addEventListener("click",de=>{de.preventDefault(),d(p)}),l.appendChild(f)});let se=o=>{h(o)},re=o=>{u(o)},ie=o=>{a(o)},ce=o=>{h(o)},ae=()=>{n.style.transform="translateX(0%)",e.addEventListener("mousedown",u),e.addEventListener("mousemove",a),e.addEventListener("mouseup",h),e.addEventListener("mouseleave",se),e.addEventListener("touchstart",re,{passive:!1}),e.addEventListener("touchmove",ie,{passive:!1}),e.addEventListener("touchend",ce)},le=()=>{n.removeAttribute("style"),e.removeEventListener("mousedown",u),e.removeEventListener("mousemove",a),e.removeEventListener("mouseup",h),e.removeEventListener("mouseleave",h),e.removeEventListener("touchstart",u,{passive:!1}),e.removeEventListener("touchmove",a,{passive:!1}),e.removeEventListener("touchend",h)},w=()=>{i.matches?ae():le()};i.addEventListener("change",w),w()},O=()=>{F.length&&F.forEach(e=>{Le(e)})};var G=document.querySelectorAll(".tabs"),ge=e=>{let t=0,s=e.querySelector(".tabs__list"),r=Array.from(s.querySelectorAll(".tabs__button")),c=()=>{r.forEach(l=>{l.classList.remove("button-invert--active")}),r[t].classList.add("button-invert--active")},n=l=>{l.target.closest(".tabs__button")&&(t=Number(l.target.closest(".tabs__button").dataset.id),c())};c(),s.addEventListener("click",n)},R=()=>{G.length&&G.forEach(e=>{ge(e)})};var $=document.querySelectorAll(".font-card__gallery"),be=e=>{let t=e.querySelectorAll(".font-card__gallery-item"),s=c=>{c.target.closest(".font-card__gallery-item")&&(t.forEach(n=>{n.classList.remove("font-card__gallery-item--shown")}),c.target.closest(".font-card__gallery-item").classList.add("font-card__gallery-item--shown"))},r=()=>{i.matches?e.removeEventListener("mouseover",s):e.addEventListener("mouseover",s)};i.addEventListener("change",r),r()},P=()=>{$.length&&$.forEach(e=>{be(e)})};var H=document.querySelectorAll(".view-switch"),ye=e=>{let t=e.querySelector(".view-switcher"),s=e.querySelectorAll(".view-switcher__button"),r=c=>{if(c.target.closest(".view-switcher__button")){let n=c.target.closest(".view-switcher__button");s.forEach(l=>{l.classList.remove("view-switcher__button--active")}),n.classList.add("view-switcher__button--active")}};t.addEventListener("click",r)},K=()=>{H.length&&H.forEach(e=>{ye(e)})};var E=document.querySelector(".page"),W=E.querySelectorAll(".custom-select"),Se=e=>{let t=e.querySelector(".custom-select__trigger"),s=e.querySelector(".custom-select__options"),r=()=>{e.classList.contains("custom-select--expanded")?m():v()},c=a=>{a.target.closest(".custom-select__option")&&(t.textContent=a.target.closest(".custom-select__option").textContent)},n=a=>{a.target.closest(".custom-select")?a.stopPropagation():m()},l=a=>{n(a)};function v(){e.classList.add("custom-select--expanded"),s.addEventListener("click",c),E.addEventListener("touchstart",l),E.addEventListener("click",n)}function m(){e.classList.remove("custom-select--expanded"),s.removeEventListener("click",c),E.removeEventListener("touchstart",l),E.removeEventListener("click",n)}let u=()=>{i.matches?e.addEventListener("click",r):e.removeEventListener("click",r)};i.addEventListener("change",u),u()},z=()=>{W.length&&W.forEach(e=>{Se(e)})};var U=0,Y=2,Z=document.querySelectorAll(".fonts__list"),we=e=>{let t=Array.from(e.querySelectorAll(".font-card")),s=()=>{t[U].querySelector(".font-info").classList.remove("font-info--expanded"),t[Y].querySelector(".font-info").classList.add("font-info--expanded")},r=()=>{t[U].querySelector(".font-info").classList.add("font-info--expanded"),t[Y].querySelector(".font-info").classList.remove("font-info--expanded")},c=l=>{if(l.target.closest(".font-card__more")){let m=l.target.closest(".font-card").querySelector(".font-info"),u=l.target.closest(".font-card__more");m.classList.toggle("font-info--expanded"),u.classList.toggle("button-more--active")}},n=()=>{i.matches?(s(),e.addEventListener("click",c)):(r(),e.removeEventListener("click",c))};i.addEventListener("change",n),n()},j=()=>{Z.length&&Z.forEach(e=>{we(e)})};var J={EMPTY:"\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u043F\u043E\u043B\u0435.",EMAIL:'Email \u0434\u043E\u043B\u0436\u0435\u043D \u0431\u044B\u0442\u044C \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 "example@domen.ru".'},Q=document.querySelectorAll(".form"),ke=e=>{let t=e.querySelector("form"),s,r;t&&(r=e.querySelector('[name="email"]'),s=r.closest(".custom-input"));let c=a=>/^[a-zA-Zа-яёА-ЯЁ0-9._%+-]+@[a-zA-Zа-яёА-ЯЁ0-9.-]+\.(?:[рР][фФ]|[a-zA-Z0-9-]{2,})$/.test(a),n=()=>{s.classList.contains("custom-input--invalid")&&s.classList.remove("custom-input--invalid"),t.reset()},l=()=>{t.setAttribute("novalidate","true")},v=a=>{a.preventDefault();let d=r.value;if(!d){r.setCustomValidity(J.EMPTY),s.classList.add("custom-input--invalid"),r.reportValidity();return}if(c(d))r.setCustomValidity("");else{r.setCustomValidity(J.EMAIL),s.classList.add("custom-input--invalid"),r.reportValidity();return}t.submit(),n()},m=a=>{if(a.target.matches("input")&&a.target.value){let d=a.target.closest(".custom-input");d.classList.contains("custom-input--invalid")&&d.classList.remove("custom-input--invalid")}},u=()=>{t.addEventListener("submit",v),t.addEventListener("input",m)};l(),n(),u()},ee=()=>{Q.length&&Q.forEach(e=>{ke(e)})};var Ae=2,Te=Array.from(document.querySelectorAll(".site-list__link")),te=Te[Ae],oe=()=>{i.matches?te.classList.add("button-invert--active"):te.classList.remove("button-invert--active")},ne=()=>{i.addEventListener("change",oe),oe()};window.addEventListener("DOMContentLoaded",()=>{T(),ne(),M(),D(),V(),O(),R(),P(),K(),z(),j(),ee()});
