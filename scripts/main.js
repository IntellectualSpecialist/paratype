var i=window.matchMedia("(max-width:920px)");var fe=document.querySelector(".header__wrapper-top"),q=document.querySelector(".user-menu"),he=document.querySelector(".header__wrapper-bottom"),x=()=>{i.matches?he.append(q):fe.append(q)},B=()=>{i.addEventListener("change",x),x()};var M=e=>e.key==="Escape";var D=document.querySelector("body"),L=document.querySelector(".header__menu"),g=document.querySelector(".burger"),ve=()=>{L.classList.add("header__menu--shown"),g.classList.add("burger--active"),document.addEventListener("keydown",I),D.classList.add("page__body--scroll-lock")},S=()=>{g.classList.remove("burger--active"),document.removeEventListener("keydown",I),L.classList.remove("header__menu--shown"),D.classList.remove("page__body--scroll-lock")},Ee=e=>{e.preventDefault(),L.classList.contains("header__menu--shown")?S():ve()};function I(e){M(e)&&(e.preventDefault(),S())}var X=()=>{i.matches?g.addEventListener("click",Ee):L.classList.contains("header__menu--shown")&&S()},N=()=>{g&&(i.addEventListener("change",X),X())};var b=document.querySelector(".theme-switcher"),V;b&&(V=b.querySelectorAll(".theme-switcher__control"));var _e=e=>{if(e.target.closest(".theme-switcher__control")){let t=e.target.closest(".theme-switcher__control");V.forEach(n=>{n.classList.remove("theme-switcher__control--active")}),t.classList.add("theme-switcher__control--active")}},F=()=>{b&&b.addEventListener("click",_e)};var Le=200,y=document.querySelector(".button-scroll"),R=()=>{window.pageYOffset>Le?y.classList.add("button-scroll--shown"):y.classList.remove("button-scroll--shown")},ge=()=>{window.scrollTo(0,0)},O=()=>{i.matches?window.removeEventListener("scroll",R):window.addEventListener("scroll",R)},G=()=>{y&&(y.addEventListener("click",ge),i.addEventListener("change",O),O())};var be=50,H=document.querySelectorAll(".slider"),ye=e=>{let t=0,n=0,s=0,c=!1,r=e.querySelector(".slider__wrapper"),a=e.querySelector(".slider__pagination"),h=r.querySelectorAll(".slider__slide"),m=h.length,p=o=>{o.type==="touchstart"&&!o.target.closest(".slider__pagination-button")&&o.preventDefault(),c=!0,n=o.type.includes("mouse")?o.pageX:o.touches[0].pageX,r.style.transition="none"},l=o=>{if(!c)return;s=o.type.includes("mouse")?o.pageX:o.touches[0].pageX;let u=s-n;t===0&&u>0?r.style.transform=`translateX(${u*.3}px)`:t===m-1&&u<0?r.style.transform=`translateX(calc(${-t*100}% + ${u*.3}px))`:r.style.transform=`translateX(calc(${-t*100}% + ${u}px))`},d=o=>{o<0?o=0:o>=m&&(o=m-1),t=o,r.style.transform=`translateX(-${t*100}%)`,a.querySelectorAll(".slider__pagination-button").forEach((u,f)=>{u.classList.toggle("slider__pagination-button--active",f===t)})},_=o=>{if(!c)return;c=!1,r.style.transition="transform 0.3s ease";let f=(o.type.includes("mouse")?o.pageX:o.changedTouches[0].pageX)-n;Math.abs(f)>be?f>0&&t>0?d(t-1):f<0&&t<m-1?d(t+1):d(t):d(t)};a.innerHTML="",h.forEach((o,u)=>{let f=document.createElement("li");f.classList.add("slider__pagination-item");let v=document.createElement("button");v.classList.add("slider__pagination-button"),v.setAttribute("type","button"),f.appendChild(v),u===0&&v.classList.add("slider__pagination-button--active"),v.addEventListener("click",pe=>{pe.preventDefault(),d(u)}),a.appendChild(f)});let w=o=>{_(o)},k=o=>{p(o)},A=o=>{l(o)},C=o=>{_(o)},me=()=>{r.style.transform="translateX(0%)",e.addEventListener("mousedown",p),e.addEventListener("mousemove",l),e.addEventListener("mouseup",_),e.addEventListener("mouseleave",w),e.addEventListener("touchstart",k,{passive:!1}),e.addEventListener("touchmove",A,{passive:!1}),e.addEventListener("touchend",C)},ue=()=>{r.removeAttribute("style"),e.removeEventListener("mousedown",p),e.removeEventListener("mousemove",l),e.removeEventListener("mouseup",_),e.removeEventListener("mouseleave",w),e.removeEventListener("touchstart",k,{passive:!1}),e.removeEventListener("touchmove",A,{passive:!1}),e.removeEventListener("touchend",C)},T=()=>{i.matches?me():ue()};i.addEventListener("change",T),T()},$=()=>{H.length&&H.forEach(e=>{ye(e)})};var P=document.querySelectorAll(".tabs"),Se=e=>{let t=0,n=e.querySelector(".tabs__list"),s=Array.from(n.querySelectorAll(".tabs__button")),c=()=>{s.forEach(a=>{a.classList.remove("button-invert--active")}),s[t].classList.add("button-invert--active")},r=a=>{a.target.closest(".tabs__button")&&(t=Number(a.target.closest(".tabs__button").dataset.id),c())};c(),n.addEventListener("click",r)},K=()=>{P.length&&P.forEach(e=>{Se(e)})};var W=document.querySelectorAll(".font-card__gallery"),we=e=>{let t=e.querySelectorAll(".font-card__gallery-item"),n=c=>{c.target.closest(".font-card__gallery-item")&&(t.forEach(r=>{r.classList.remove("font-card__gallery-item--shown")}),c.target.closest(".font-card__gallery-item").classList.add("font-card__gallery-item--shown"))},s=()=>{i.matches?e.removeEventListener("mouseover",n):e.addEventListener("mouseover",n)};i.addEventListener("change",s),s()},z=()=>{W.length&&W.forEach(e=>{we(e)})};var U=document.querySelectorAll(".view-switch"),ke=e=>{let t=e.querySelector(".view-switcher"),n=e.querySelectorAll(".view-switcher__button"),s=c=>{if(c.target.closest(".view-switcher__button")){let r=c.target.closest(".view-switcher__button");n.forEach(a=>{a.classList.remove("view-switcher__button--active")}),r.classList.add("view-switcher__button--active")}};t.addEventListener("click",s)},Y=()=>{U.length&&U.forEach(e=>{ke(e)})};var E=document.querySelector(".page"),Z=E.querySelectorAll(".custom-select"),Ae=e=>{let t=e.querySelector(".custom-select__trigger"),n=e.querySelector(".custom-select__options"),s=()=>{e.classList.contains("custom-select--expanded")?m():h()},c=l=>{l.target.closest(".custom-select__option")&&(t.textContent=l.target.closest(".custom-select__option").textContent)},r=l=>{l.target.closest(".custom-select")?l.stopPropagation():m()},a=l=>{r(l)};function h(){e.classList.add("custom-select--expanded"),n.addEventListener("click",c),E.addEventListener("touchstart",a),E.addEventListener("click",r)}function m(){e.classList.remove("custom-select--expanded"),n.removeEventListener("click",c),E.removeEventListener("touchstart",a),E.removeEventListener("click",r)}let p=()=>{i.matches?e.addEventListener("click",s):e.removeEventListener("click",s)};i.addEventListener("change",p),p()},j=()=>{Z.length&&Z.forEach(e=>{Ae(e)})};var J=0,Q=2,ee=document.querySelectorAll(".fonts__list"),Ce=e=>{let t=Array.from(e.querySelectorAll(".font-card")),n=()=>{t[J].querySelector(".font-info").classList.remove("font-info--expanded"),t[Q].querySelector(".font-info").classList.add("font-info--expanded")},s=()=>{t[J].querySelector(".font-info").classList.add("font-info--expanded"),t[Q].querySelector(".font-info").classList.remove("font-info--expanded")},c=a=>{if(a.target.closest(".font-card__more")){let m=a.target.closest(".font-card").querySelector(".font-info"),p=a.target.closest(".font-card__more");m.classList.toggle("font-info--expanded"),p.classList.toggle("button-more--active")}},r=()=>{i.matches?(n(),e.addEventListener("click",c)):(s(),e.removeEventListener("click",c))};i.addEventListener("change",r),r()},te=()=>{ee.length&&ee.forEach(e=>{Ce(e)})};var oe={EMPTY:"\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u043F\u043E\u043B\u0435.",EMAIL:'Email \u0434\u043E\u043B\u0436\u0435\u043D \u0431\u044B\u0442\u044C \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 "example@domen.ru".'},ne=document.querySelectorAll(".form"),Te=e=>{let t=e.querySelector("form"),n,s;t&&(s=e.querySelector('[name="email"]'),n=s.closest(".custom-input"));let c=l=>/^[a-zA-Zа-яёА-ЯЁ0-9._%+-]+@[a-zA-Zа-яёА-ЯЁ0-9.-]+\.(?:[рР][фФ]|[a-zA-Z0-9-]{2,})$/.test(l),r=()=>{n.classList.contains("custom-input--invalid")&&n.classList.remove("custom-input--invalid"),t.reset()},a=()=>{t.setAttribute("novalidate","true")},h=l=>{l.preventDefault();let d=s.value;if(!d){s.setCustomValidity(oe.EMPTY),n.classList.add("custom-input--invalid"),s.reportValidity();return}if(c(d))s.setCustomValidity("");else{s.setCustomValidity(oe.EMAIL),n.classList.add("custom-input--invalid"),s.reportValidity();return}t.submit(),r()},m=l=>{if(l.target.matches("input")&&l.target.value){let d=l.target.closest(".custom-input");d.classList.contains("custom-input--invalid")&&d.classList.remove("custom-input--invalid")}},p=()=>{t.addEventListener("submit",h),t.addEventListener("input",m)};a(),r(),p()},se=()=>{ne.length&&ne.forEach(e=>{Te(e)})};var qe=2,xe=Array.from(document.querySelectorAll(".site-list__link")),re=xe[qe],ie=()=>{i.matches?re.classList.add("button-invert--active"):re.classList.remove("button-invert--active")},ce=()=>{i.addEventListener("change",ie),ie()};var ae=document.querySelectorAll(".animation"),le=()=>{ae.length&&ae.forEach(e=>{let n=e.getBoundingClientRect().bottom-e.offsetHeight/2,s=window.innerHeight;n<s&&n>0&&e.classList.add("animation--visible")})},de=()=>{window.addEventListener("scroll",le),le()};window.addEventListener("DOMContentLoaded",()=>{B(),ce(),N(),F(),de(),G(),$(),K(),z(),Y(),j(),te(),se()});
